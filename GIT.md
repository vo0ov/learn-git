# Команды Git

# Топ команды:
```bash
1. git init
2. git status
3. git add FILE
4. git commit -m "Сообщение коммита"
5. git push
6. git pull
7. git merge
```

### Инициализация репозитория

```bash
git init
# Инициализирует новый пустой локальный репозиторий Git в текущей директории
```

### Проверка статуса репозитория

```bash
git status
# Отображает состояние рабочего каталога и индекса:
# какие изменения были поставлены в индекс, какие нет, и какие файлы не отслеживаются
```

### Добавление изменений в индекс

```bash
git add FILE
# Добавляет указанный файл в индекс (готовит его к коммиту)
```

### Фиксация изменений

```bash
git commit -m "Сообщение коммита"
# Создает коммит из изменений, находящихся в индексе, с заданным сообщением
```

### Управление файлами

```bash
git restore FILE
# Восстанавливает указанный файл из индекса или последнего коммита (отменяет изменения в рабочей директории)

git restore --staged FILE
# Убирает файл из индекса (отменяет git add)

git rm FILE
# Удаляет файл из рабочей директории и индекса (готовит удаление файла для следующего коммита)
```

### Просмотр истории коммитов

```bash
git log
# Показывает историю коммитов с полными сообщениями и подробностями

git log --stat
# Показывает историю коммитов с краткой статистикой изменений по файлам

git log -p -2
# Показывает патчи для последних двух коммитов (полные диффы)

git log --pretty=oneline
# Показывает каждый коммит в одну строку (хэш и сообщение)

git log --oneline
# Сокращенное отображение коммитов в одну строку (эквивалентно --pretty=oneline --abbrev-commit)

git log --since=2.weeks
# Показывает коммиты, сделанные за последние 2 недели

git log --graph
# Показывает графическое представление истории коммитов

git log --decorate
# Показывает все коммиты на всех ветках

git show BRANCH
# Показывает подробную информацию о последнем коммите в указанной ветке BRANCH
```

### Ветки

```bash
git branch
# Показывает список веток

git checkout -b BRANCH
# Создает новую ветку с именем BRANCH и переключает на нее

git checkout BRANCH
# Переключает на ветку с именем BRANCH

git switch BRANCH
# Переключает на ветку с именем BRANCH

git switch -c BRANCH
# оздает новую ветку с именем BRANCH и переключает на нее

git branch -d BRANCH
# Удаляет ветку с именем BRANCH

git branch -f BRANCH
# Приравнивает BRANCH к текущей ветке (ОПАСНО, все коммиты в BRANCH будут потеряны)

git merge BRANCH
# Объединяет ветку с именем BRANCH в текущую
```

### Сравнение изменений

```bash
git diff
# Показывает несохраненные изменения в рабочем каталоге по сравнению с последним коммитом (изменения, не добавленные в индекс)

git diff --staged
# Показывает изменения между индексом и последним коммитом (то, что будет закоммичено)

git diff HASH_COMMIT1 HASH_COMMIT2
# Показывает разницу между двумя коммитами по их хэшам
```

### Очистка рабочей директории

```bash
git clean -fd
# Удаляет неотслеживаемые файлы и директории из рабочей директории (-f для файлов, -d для директорий)
```

### Сброс изменений

```bash
git reset HEAD~COUNT
# Перемещает текущий HEAD на COUNT коммитов назад, оставляя изменения в рабочей директории (меняет только указатель HEAD и индекс)

git reset --hard HEAD~COUNT
# Перемещает текущий HEAD на COUNT коммитов назад и сбрасывает состояние рабочей директории и индекса к этому состоянию (ОПАСНО, изменения будут потеряны)
```

### Сохранение и восстановление незаконченных изменений

```bash
git stash
# Сохраняет текущие несохраненные изменения в стэш и очищает рабочую директорию

git stash pop
# Применяет последний сохраненный стэш и удаляет его из списка стэшей
```

### Низкоуровневые команды Git

```bash
git cat-file -p HASH
# Показывает содержимое объекта Git по его хэшу (файл, коммит, дерево и т.д.)

git cat-file -p BRANCH^{tree}
# Показывает содержимое дерева (снимка файловой системы) для указанной ветки
```